<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kaleidoscope Glass</title>
</head>

<style>
    .grid-sizer,
    .grid-item {
        float: left;
        border: 2px solid #333;
        border-color: hsla(0, 0%, 0%, 0.5);
        border-radius: 5px;
        transition: background 0.4s, box-shadow 0.4s;
        width: 15%;
    }

</style>

{% extends "base.html" %}

{% load static %}

{% block content %}

{% block navbar %}
<nav class="navbar navbar-default">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href={% url "Loggedin" %}>Kaleidoscope Glass</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="NavBarCollapse">
            <ul class="nav navbar-nav navbar-left">
                <li><a class="btn" id="DoorButton">Doors</a></li>
                <li><a class="btn" id="TransomButton">Transoms</a></li>
                <li><a class="btn" id="CabinetButton">Cabinets</a></li>
                <li><a class="btn" id="MiscellaneousButton">Miscellaneous</a></li>
            </ul>
          <ul class="nav navbar-nav navbar-right">
              <li class="dropdown" id="NotificationDropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" role="button" href="#"><i class="fa fa-bell "><span class="badge" id="NotificationBadge"></span></i></a>
                <ul class="dropdown-menu" id="NotificationList">

                </ul>
              </li>
                <li class="dropdown" id="ProfileDropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{ user.username }}<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href={% url 'ClientUpdate' %}>Update Profile</a></li>
                        <li><a href="{% url 'Inbox' %}">Inbox</a></li>
                        <li><a href="{% url 'Logout' %}">Log Out</a></li>
                    </ul>
                </li>


          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>


{% endblock %}

{% block packery %}

        <div class="grid col-lg-offset-1 col-lg-10" id="isotopegrid">
            {% for listing in listings %}
                {% if listing.category == 1 %}
                    <div class="grid-item door">
                        <div class="thumbnail">
                            <img src="/Kaleidoscope/static/media/{{ listing.image}}">
                            <div class="caption">
                                {{ listing.description }}
                            </div>
                        </div>
                    </div>
                {% elif listing.category == 2 %}
                    <div class="grid-item transom">
                        <div class="thumbnail">
                            <img src="/Kaleidoscope/static/media/{{ listing.image}}">
                            <div class="caption">
                                {{ listing.description }}
                            </div>
                        </div>
                    </div>
                {% elif listing.category == 3 %}
                    <div class="grid-item cabinet" style="display: none">
                        <div class="thumbnail">
                            <img src="/Kaleidoscope/static/media/{{ listing.image}}">
                            <div class="caption">
                                {{ listing.description }}
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="grid-item miscellaneous" style="display: none">
                        <div class="thumbnail">
                            <img src="/Kaleidoscope/static/media/{{ listing.image}}">
                            <div class="caption">
                                {{ listing.description }}
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>


    <script>


        var grid = $('.grid').isotope({
            //layoutMode: 'packery',
            packery:{
                gutter: 10,
                columnWidth: '.grid-sizer'
            },
            itemSelector: '.grid-item',
            percentPosition: true
        });

        grid.imagesLoaded();



    
        $('#TransomButton').click(function ShowTransoms(e) {
            $('.grid').isotope({filter: '.transom'});
        });

         $('#DoorButton').click(function ShowDoors(e) {
            $('.grid').isotope({filter: '.door'});
         });

          $('#CabinetButton').click(function ShowCabinets(e) {
            $('.grid').isotope({filter: '.cabinet'});

          });

         $('#MiscellaneousButton').click(function ShowMiscellaneous(e) {
            $('.grid').isotope({filter: '.miscellaneous'});
         });


    </script>
{% endblock %}


{% endblock %}


</html>